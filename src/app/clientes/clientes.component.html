<div class="row">
  <div class="col-sm-2 col-xs-2">
      &nbsp;
  </div>
</div>
<div class="row">
  <div class="col-sm-2 col-xs-2">
      &nbsp;
  </div>
</div>
<div class="row">
  <div class="col-sm-2 col-xs-2">
      &nbsp;
  </div>
</div>
<div class="row">
  <div class="col-sm-2 col-xs-2">
      &nbsp;
  </div>
</div>
<div class="row">
  <div class="col-sm-1 col-xs-1">&nbsp;</div>
  <div class="col-sm-10 col-xs-10 badge badge-primary"> <h5><img src="/assets/imagens/icons/clientes.png" class="mr-2" style="width: 30px"> Cadastro de Clientes</h5></div>
</div>
<div class="row">
  <div class="col-sm-1 col-xs-1">
      &nbsp;
  </div>

  <div class="col-sm-10 col-xs-10 border border-primary rounded shadow-lg p-4 mb-4 bg-white">
      <h4>Dados do Cliente</h4>
      <form [formGroup]="clienteForm" >
          <div class="row">
              <div class="col-sm-2 col-xs-2">
                  &nbsp;
              </div>
          </div>
          <div class="row">
              <div class="col-sm-1 col-xs-1">
                  &nbsp;
              </div>
              <div class="col-sm-1 col-xs-1">
                      CPF:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
              </div>
              <div class="col-sm-3  col-xs-3">
                  <cft-input errorMessage="Campo obrigatório e no formato de CPF/CNPJ" label="cpf cliente">
                      <input  name="cnpjCpf" class="form-control" formControlName="cnpjCpf" autocomplete="off" placeholder="CPF">
                  </cft-input>
              </div>
              <div class="col-xs-1 col-sm-1" >
                <span *ngIf="clienteForm.get('cnpjCpf').getError('cpfNotValid')" style="color:red">
                  <i class="fa fa-remove"></i> O CPF/CNPJ não é válido.
                </span>
              </div>
              <div class="col-sm-1 col-xs-1">
                      RG / IE:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
              </div>
              <div class="col-sm-3  col-xs-3">
                  <cft-input errorMessage="Campo obrigatório com maximo de 18 caracteres" label="RG / IE do Cliente usuário">
                      <input name="IEstRG" class="form-control" formControlName="IEstRG" autocomplete="off" placeholder="RG /IE">
                  </cft-input>
              </div>
              <div class="col-xs-2 col-sm-2" >
                  <!-- <span class="help-block pull-right has-error-block" *ngIf="usuarioForm.get('US_USLOGIN').hasError('loginInvalido') === 'VALID'" style="color:red"><i class="fa fa-remove"></i> Login já existente</span> -->
                  <!-- <span class="help-block pull-right has-error-block" *ngIf="jogadorForm.get('JO_JOAPELIDO').hasError('apelidoInvalido')" style="color:red"><i class="fa fa-remove"></i> Apelido já existente</span> -->
              </div>
          </div>
          <div class="row">
              <div class="col-sm-1 col-xs-1">
                  &nbsp;
              </div>
              <div class="col-sm-1 col-xs-1">
                  Nome:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
              </div>
              <div class="col-sm-3  col-xs-3">
                  <cft-input errorMessage="Campo obrigatório com maximo de 60 caracteres" label="Nome">
                      <input name="nome" class="form-control" formControlName="nome" autocomplete="off" placeholder="Nome">
                  </cft-input>
              </div>
              <div class="col-sm-1 col-xs-1">
                &nbsp;
              </div>
              <div class="col-sm-1 col-xs-1">
                Apelido:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
              </div>
              <div class="col-sm-3  col-xs-3">
                  <cft-input errorMessage="Campo obrigatório com maximo de 20 caracteres" label="Nome">
                      <input name="apelido" class="form-control" formControlName="apelido" autocomplete="off" placeholder="Apelido">
                  </cft-input>
              </div>
          </div>

          <div class="row">
            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Org.Emissor:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="Campo obrigatório com maximo de 6 caracteres" label="Orgão Emissor">
                    <input name="orgEmisRg" class="form-control" formControlName="orgEmisRg" autocomplete="off" placeholder="Orgão Emissor">
                </cft-input>
            </div>
            <div class="col-sm-1 col-xs-1">
              &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Estado Civil:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="Campo obrigatório com maximo de 30 caracteres" label="Estado Civil">
                    <input name="estCivil" class="form-control" formControlName="estCivil" autocomplete="off" placeholder="Estado Civil">
                </cft-input>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Data de Nasc.:
            </div>
            <div class="col-sm-3  col-xs-3">
                <div class="row">
                  <div class="col-sm-10  col-xs-10" >
                      <!-- <input class="form-control" placeholder="yyyy-mm-dd" name="dp" ngbDatepicker #d1="ngbDatepicker" formControlName="CP_CPDATALIMITEAPOSTA" > -->
                      <input class="form-control" placeholder="dd/mm/aaaa" name="dtNascimento" ngbDatepicker #d1="ngbDatepicker"  formControlName="dtNascimento" >
                  </div>
                  <div class="col-sm-2  col-xs-2" >
                      <button class="btn btn-primary" (click)="d1.toggle()" type="button"><i class="fa fa-table "></i></button>
                  </div>
                </div>
                <!-- <cft-input errorMessage="Data de Nasc é um campo obrigatório" label="Data de Nasc.">
                    <input name="DtNascimento" class="form-control" formControlName="DtNascimento" autocomplete="off" placeholder="Data de Nasc.">
                </cft-input> -->
            </div>
            <div class="col-sm-1 col-xs-1">
              &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Profissao:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="Campo obrigatório com maximo de 30 caracteres" label="profissao">
                    <input name="profProfissao" class="form-control" formControlName="profProfissao" autocomplete="off" placeholder="Profissao">
                </cft-input>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              CEP:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="CEP é um campo obrigatório" label="CEP">
                    <input #CEP name="cep" class="form-control" formControlName="cep" autocomplete="off" placeholder="cep" (input)="ConsultaCEP(CEP.value)">
                    <!-- <input  name="CEP" class="form-control" formControlName="CEP" autocomplete="off" placeholder="CEP" > -->
                </cft-input>
            </div>
            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              UF:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <select name="uf" class="form-control" formControlName="uf" >
                  <option *ngFor=  "let c of (estados)" [value]="c.uf">{{c.estado}}</option>
                </select>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12 col-xs-12">
                &nbsp;
            </div>
          </div>
          <div class="row">
            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Localidade:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="Campo obrigatório com maximo de 30 caracteres" label="localidade">
                    <input name="localidade" class="form-control" formControlName="localidade" autocomplete="off" placeholder="Localidade/Cidade" >
                </cft-input>
            </div>
            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Logradouro:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="Campo obrigatório com maximo de 30 caracteres" label="Logradouro">
                    <input name="logradouro" class="form-control" formControlName="logradouro" autocomplete="off" placeholder="Logradouro" >
                </cft-input>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Numero:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="Campo obrigatório com maximo de 8 caracteres" label="Numero">
                    <input name="numero" class="form-control" formControlName="numero" autocomplete="off" placeholder="Numero">
                </cft-input>
            </div>

            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Complemento:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="Campo obrigatório com maximo de 40 caracteres" label="Complemento">
                    <input name="complemento" class="form-control" formControlName="complemento" autocomplete="off" placeholder="Complemento">
                </cft-input>
            </div>

            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>

          </div>
          <div class="row">
            <div class="col-sm-1 col-xs-1">
              &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Bairro:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="Campo obrigatório com maximo de 40 caracteres" label="Bairro">
                    <input name="bairro" class="form-control" formControlName="bairro" autocomplete="off" placeholder="Bairro" >
                </cft-input>
            </div>
            <div class="col-sm-1 col-xs-1">
                &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              EMail:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="EMail é um campo obrigatório" label="EMail">
                    <input name="eMail" class="form-control" formControlName="eMail" autocomplete="off" placeholder="EMail">
                </cft-input>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-1 col-xs-1">
              &nbsp;
            </div>
            <div class="col-sm-1 col-xs-1">
              Contato:<span style="color:red" tooltip="Campo Obrigatório" placement="top" show-delay="500">&nbsp;&nbsp;*</span>
            </div>
            <div class="col-sm-3  col-xs-3">
                <cft-input errorMessage="Campo obrigatório com maximo de 40 caracteres" label="Contato">
                    <input name="contato" class="form-control" formControlName="contato" autocomplete="off" placeholder="Contato">
                </cft-input>
            </div>
          </div>
          <!-- <div class="row">
              <div class="col-sm-2 col-xs-2">
                  &nbsp;
              </div>
              <div class="col-sm-3 col-xs-3">
                  Clube:
              </div>
              <div class="col-sm-5  col-xs-5" >
                  <select name="JO_CLID" class="form-control" formControlName="JO_CLID">
                      <option *ngFor=  "let c of (clubes)" [value]="c.CL_CLID">{{c.CL_CLNOME}}</option>
                  </select>
              </div>
          </div> -->
          <!--***********************************GRID-->
        <dx-data-grid
            id="gridContainer"
            [dataSource]="dataSource"
            keyExpr="idTelefone"
            [allowColumnReordering]="true"
            [showBorders]="true"
            (onEditingStart)="logEvent('EditingStart')"
            (onEditorPreparing)="onEditorPreparing($event)"
            (onInitNewRow)="logEvent('InitNewRow')"
            (onRowInserting)="logEvent('RowInserting')"
            (onRowInserted)="logEvent('RowInserted')"
            (onRowUpdating)="logEvent('RowUpdating')"
            (onRowUpdated)="logEvent('RowUpdated')"
            (onRowRemoving)="logEvent('RowRemoving')"
            (onRowRemoved)="logEvent('RowRemoved')"
            (onSaving)="inserirTelefone(dataSource)"
            (onSaved)="logEvent('Saved')"
            (onEditCanceling)="logEvent('EditCanceling')"
            (onEditCanceled)="logEvent('EditCanceled')">

            <dxo-paging [enabled]="true"></dxo-paging>
            <dxo-editing
                mode="row"
                [allowUpdating]="true"
                [allowDeleting]="true"
                [allowAdding]="true">
            </dxo-editing>

            <dxi-column dataField="codDdd" caption="DDD" dataType="number" >
              <dxi-validation-rule
                type="required"
                [pattern]="patternDDD" message="Formato DDD (11)!"
                [validationCallback]="asyncValidation"
              ></dxi-validation-rule>
            </dxi-column>
            <dxi-column dataField="numero" dataType="number" >
              <dxi-validation-rule
              type="required"
              [pattern]="FonePattern" message="Formato Numero (111111111)!"
              [validationCallback]="asyncValidation"
              ></dxi-validation-rule>
            </dxi-column>
            <dxi-column dataField="ramal" >
              <dxi-validation-rule
              [pattern]="RamalPattern" message="Formato ramal (1111)!"
              [validationCallback]="asyncValidation"
              ></dxi-validation-rule>
            </dxi-column>

            <dxi-column
                dataField="indTipoFone"
                caption="TipoTelefone"
                [width]="125">
                <dxo-lookup
                    [dataSource]="tiposTelefone"
                    displayExpr="DescTipoTelefone"
                    valueExpr="IndTipoFone">
                </dxo-lookup>
            </dxi-column>
            <!-- <dxi-column
                dataField="BirthDate"
                [width]="125"
                dataType="date">
            </dxi-column> -->
        </dx-data-grid>
        <!--***********************************GRID***********************************-->
      </form>
      <div class="dx-fieldset">
        <dx-validation-summary id="summary"></dx-validation-summary>
        <div class="row">
            <div class="col-sm-2 col-xs-2">
                &nbsp;
            </div>
            <div class="col-sm-8 col-xs-8">
                <button (click)="SalvarCliente(clienteForm.value)"type="button" class="btn btn-primary pull-right btn-block" [disabled]="!clienteForm.valid" >
                    <i class="fa fa-save"></i> Salvar
                </button>
                {{clienteForm.valid}}
            </div>
            <!-- <div class="col-sm-8 col-xs-8">
              <button (click)="findInvalidControls()"type="button" class="btn btn-primary pull-right btn-block" >
                  <i class="fa fa-save"></i> teste
              </button>
            </div> -->
            <div class="col-sm-3 col-xs-3" >
                &nbsp;
            </div>
        </div>
      </div>
  </div>
</div>

